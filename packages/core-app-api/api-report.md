## API Report File for "@backstage/core-app-api"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { AlertApi } from '@ceremium/core-plugin-api';
import { AlertMessage } from '@ceremium/core-plugin-api';
import { AnalyticsApi } from '@ceremium/core-plugin-api';
import { AnalyticsEvent } from '@ceremium/core-plugin-api';
import { AnyApiFactory } from '@ceremium/core-plugin-api';
import { AnyApiRef } from '@ceremium/core-plugin-api';
import { ApiFactory } from '@ceremium/core-plugin-api';
import { ApiHolder } from '@ceremium/core-plugin-api';
import { ApiRef } from '@ceremium/core-plugin-api';
import { AppConfig } from '@backstage/config';
import { AppTheme } from '@ceremium/core-plugin-api';
import { AppThemeApi } from '@ceremium/core-plugin-api';
import { atlassianAuthApiRef } from '@ceremium/core-plugin-api';
import { AuthProviderInfo } from '@ceremium/core-plugin-api';
import { AuthRequestOptions } from '@ceremium/core-plugin-api';
import { BackstageIdentityApi } from '@ceremium/core-plugin-api';
import { BackstageIdentityResponse } from '@ceremium/core-plugin-api';
import { BackstagePlugin } from '@ceremium/core-plugin-api';
import { bitbucketAuthApiRef } from '@ceremium/core-plugin-api';
import { ComponentType } from 'react';
import { Config } from '@backstage/config';
import { ConfigReader } from '@backstage/config';
import { DiscoveryApi } from '@ceremium/core-plugin-api';
import { ErrorApi } from '@ceremium/core-plugin-api';
import { ErrorApiError } from '@ceremium/core-plugin-api';
import { ErrorApiErrorContext } from '@ceremium/core-plugin-api';
import { ExternalRouteRef } from '@ceremium/core-plugin-api';
import { FeatureFlag } from '@ceremium/core-plugin-api';
import { FeatureFlagsApi } from '@ceremium/core-plugin-api';
import { FeatureFlagsSaveOptions } from '@ceremium/core-plugin-api';
import { FetchApi } from '@ceremium/core-plugin-api';
import { githubAuthApiRef } from '@ceremium/core-plugin-api';
import { gitlabAuthApiRef } from '@ceremium/core-plugin-api';
import { googleAuthApiRef } from '@ceremium/core-plugin-api';
import { IconComponent } from '@ceremium/core-plugin-api';
import { IdentityApi } from '@ceremium/core-plugin-api';
import { JsonValue } from '@backstage/types';
import { microsoftAuthApiRef } from '@ceremium/core-plugin-api';
import { OAuthApi } from '@ceremium/core-plugin-api';
import { OAuthRequestApi } from '@ceremium/core-plugin-api';
import { OAuthRequester } from '@ceremium/core-plugin-api';
import { OAuthRequesterOptions } from '@ceremium/core-plugin-api';
import { Observable } from '@backstage/types';
import { oktaAuthApiRef } from '@ceremium/core-plugin-api';
import { oneloginAuthApiRef } from '@ceremium/core-plugin-api';
import { OpenIdConnectApi } from '@ceremium/core-plugin-api';
import { PendingOAuthRequest } from '@ceremium/core-plugin-api';
import { ProfileInfo } from '@ceremium/core-plugin-api';
import { ProfileInfoApi } from '@ceremium/core-plugin-api';
import { PropsWithChildren } from 'react';
import PropTypes from 'prop-types';
import { ReactNode } from 'react';
import { RouteRef } from '@ceremium/core-plugin-api';
import { SessionApi } from '@ceremium/core-plugin-api';
import { SessionState } from '@ceremium/core-plugin-api';
import { StorageApi } from '@ceremium/core-plugin-api';
import { StorageValueSnapshot } from '@ceremium/core-plugin-api';
import { SubRouteRef } from '@ceremium/core-plugin-api';

// @public
export class AlertApiForwarder implements AlertApi {
  // (undocumented)
  alert$(): Observable<AlertMessage>;
  // (undocumented)
  post(alert: AlertMessage): void;
}

// @public (undocumented)
export type ApiFactoryHolder = {
  get<T>(api: ApiRef<T>):
    | ApiFactory<
        T,
        T,
        {
          [key in string]: unknown;
        }
      >
    | undefined;
};

// @public
export class ApiFactoryRegistry implements ApiFactoryHolder {
  // (undocumented)
  get<T>(api: ApiRef<T>):
    | ApiFactory<
        T,
        T,
        {
          [x: string]: unknown;
        }
      >
    | undefined;
  // (undocumented)
  getAllApis(): Set<AnyApiRef>;
  register<
    Api,
    Impl extends Api,
    Deps extends {
      [name in string]: unknown;
    },
  >(scope: ApiFactoryScope, factory: ApiFactory<Api, Impl, Deps>): boolean;
}

// @public
export type ApiFactoryScope = 'default' | 'app' | 'static';

// @public
export const ApiProvider: {
  (props: PropsWithChildren<ApiProviderProps>): JSX.Element;
  propTypes: {
    apis: PropTypes.Validator<
      PropTypes.InferProps<{
        get: PropTypes.Validator<(...args: any[]) => any>;
      }>
    >;
    children: PropTypes.Requireable<PropTypes.ReactNodeLike>;
  };
};

// @public
export type ApiProviderProps = {
  apis: ApiHolder;
  children: ReactNode;
};

// @public
export class ApiResolver implements ApiHolder {
  constructor(factories: ApiFactoryHolder);
  // (undocumented)
  get<T>(ref: ApiRef<T>): T | undefined;
  static validateFactories(
    factories: ApiFactoryHolder,
    apis: Iterable<AnyApiRef>,
  ): void;
}

// @public
export type AppComponents = {
  NotFoundErrorPage: ComponentType<{}>;
  BootErrorPage: ComponentType<BootErrorPageProps>;
  Progress: ComponentType<{}>;
  Router: ComponentType<{}>;
  ErrorBoundaryFallback: ComponentType<ErrorBoundaryFallbackProps>;
  ThemeProvider?: ComponentType<{}>;
  SignInPage?: ComponentType<SignInPageProps>;
};

// @public
export type AppConfigLoader = () => Promise<AppConfig[]>;

// @public
export type AppContext = {
  getPlugins(): BackstagePlugin<any, any>[];
  getSystemIcon(key: string): IconComponent | undefined;
  getComponents(): AppComponents;
};

// @public
export type AppIcons = {
  'kind:api': IconComponent;
  'kind:component': IconComponent;
  'kind:domain': IconComponent;
  'kind:group': IconComponent;
  'kind:location': IconComponent;
  'kind:system': IconComponent;
  'kind:user': IconComponent;
  brokenImage: IconComponent;
  catalog: IconComponent;
  chat: IconComponent;
  dashboard: IconComponent;
  docs: IconComponent;
  email: IconComponent;
  github: IconComponent;
  group: IconComponent;
  help: IconComponent;
  scaffolder: IconComponent;
  search: IconComponent;
  techdocs: IconComponent;
  user: IconComponent;
  warning: IconComponent;
};

// @public
export type AppOptions = {
  apis?: Iterable<AnyApiFactory>;
  defaultApis?: Iterable<AnyApiFactory>;
  icons: AppIcons & {
    [key in string]: IconComponent;
  };
  plugins?: Array<
    BackstagePlugin<any, any> & {
      output?(): Array<
        | {
            type: 'feature-flag';
            name: string;
          }
        | {
            type: string;
          }
      >;
    }
  >;
  components: AppComponents;
  themes: (Partial<AppTheme> & Omit<AppTheme, 'theme'>)[];
  configLoader?: AppConfigLoader;
  bindRoutes?(context: { bind: AppRouteBinder }): void;
};

// @public
export type AppRouteBinder = <
  ExternalRoutes extends {
    [name: string]: ExternalRouteRef;
  },
>(
  externalRoutes: ExternalRoutes,
  targetRoutes: PartialKeys<
    TargetRouteMap<ExternalRoutes>,
    KeysWithType<ExternalRoutes, ExternalRouteRef<any, true>>
  >,
) => void;

// @public
export class AppThemeSelector implements AppThemeApi {
  constructor(themes: AppTheme[]);
  // (undocumented)
  activeThemeId$(): Observable<string | undefined>;
  // (undocumented)
  static createWithStorage(themes: AppTheme[]): AppThemeSelector;
  // (undocumented)
  getActiveThemeId(): string | undefined;
  // (undocumented)
  getInstalledThemes(): AppTheme[];
  // (undocumented)
  setActiveThemeId(themeId?: string): void;
}

// @public
export class AtlassianAuth {
  // (undocumented)
  static create(options: OAuthApiCreateOptions): typeof atlassianAuthApiRef.T;
}

// @public
export type AuthApiCreateOptions = {
  discoveryApi: DiscoveryApi;
  environment?: string;
  provider?: AuthProviderInfo;
};

// @public
export type BackstageApp = {
  getPlugins(): BackstagePlugin<any, any>[];
  getSystemIcon(key: string): IconComponent | undefined;
  getProvider(): ComponentType<{}>;
  getRouter(): ComponentType<{}>;
};

// @public
export class BitbucketAuth {
  // (undocumented)
  static create(options: OAuthApiCreateOptions): typeof bitbucketAuthApiRef.T;
}

// @public
export type BitbucketSession = {
  providerInfo: {
    accessToken: string;
    scopes: Set<string>;
    expiresAt?: Date;
  };
  profile: ProfileInfo;
  backstageIdentity: BackstageIdentityResponse;
};

// @public
export type BootErrorPageProps = {
  step: 'load-config' | 'load-chunk';
  error: Error;
};

export { ConfigReader };

// @public
export function createFetchApi(options: {
  baseImplementation?: typeof fetch | undefined;
  middleware?: FetchMiddleware | FetchMiddleware[] | undefined;
}): FetchApi;

// @public
export function createSpecializedApp(options: AppOptions): BackstageApp;

// @public
export const defaultConfigLoader: AppConfigLoader;

// @public
export class ErrorAlerter implements ErrorApi {
  constructor(alertApi: AlertApi, errorApi: ErrorApi);
  // (undocumented)
  error$(): Observable<{
    error: ErrorApiError;
    context?: ErrorApiErrorContext | undefined;
  }>;
  // (undocumented)
  post(error: ErrorApiError, context?: ErrorApiErrorContext): void;
}

// @public
export class ErrorApiForwarder implements ErrorApi {
  // (undocumented)
  error$(): Observable<{
    error: Error;
    context?: ErrorApiErrorContext;
  }>;
  // (undocumented)
  post(error: ErrorApiError, context?: ErrorApiErrorContext): void;
}

// @public
export type ErrorBoundaryFallbackProps = {
  plugin?: BackstagePlugin;
  error: Error;
  resetError: () => void;
};

// @public
export const FeatureFlagged: (props: FeatureFlaggedProps) => JSX.Element;

// @public
export type FeatureFlaggedProps = {
  children: ReactNode;
} & (
  | {
      with: string;
    }
  | {
      without: string;
    }
);

// @public
export interface FetchMiddleware {
  apply(next: typeof fetch): typeof fetch;
}

// @public
export class FetchMiddlewares {
  static injectIdentityAuth(options: {
    identityApi: IdentityApi;
    config?: Config;
    urlPrefixAllowlist?: string[];
    allowUrl?: (url: string) => boolean;
    header?: {
      name: string;
      value: (backstageToken: string) => string;
    };
  }): FetchMiddleware;
  static resolvePluginProtocol(options: {
    discoveryApi: DiscoveryApi;
  }): FetchMiddleware;
}

// @public
export const FlatRoutes: (props: FlatRoutesProps) => JSX.Element | null;

// @public
export type FlatRoutesProps = {
  children: ReactNode;
};

// @public
export class GithubAuth {
  // (undocumented)
  static create(options: OAuthApiCreateOptions): typeof githubAuthApiRef.T;
}

// @public
export class GitlabAuth {
  // (undocumented)
  static create(options: OAuthApiCreateOptions): typeof gitlabAuthApiRef.T;
}

// @public
export class GoogleAuth {
  // (undocumented)
  static create(options: OAuthApiCreateOptions): typeof googleAuthApiRef.T;
}

// @public
export class LocalStorageFeatureFlags implements FeatureFlagsApi {
  // (undocumented)
  getRegisteredFlags(): FeatureFlag[];
  // (undocumented)
  isActive(name: string): boolean;
  // (undocumented)
  registerFlag(flag: FeatureFlag): void;
  // (undocumented)
  save(options: FeatureFlagsSaveOptions): void;
}

// @public
export class MicrosoftAuth {
  // (undocumented)
  static create(options: OAuthApiCreateOptions): typeof microsoftAuthApiRef.T;
}

// @public
export class NoOpAnalyticsApi implements AnalyticsApi {
  // (undocumented)
  captureEvent(_event: AnalyticsEvent): void;
}

// @public
export class OAuth2
  implements
    OAuthApi,
    OpenIdConnectApi,
    ProfileInfoApi,
    BackstageIdentityApi,
    SessionApi
{
  // (undocumented)
  static create(options: OAuth2CreateOptions): OAuth2;
  // (undocumented)
  getAccessToken(
    scope?: string | string[],
    options?: AuthRequestOptions,
  ): Promise<string>;
  // (undocumented)
  getBackstageIdentity(
    options?: AuthRequestOptions,
  ): Promise<BackstageIdentityResponse | undefined>;
  // (undocumented)
  getIdToken(options?: AuthRequestOptions): Promise<string>;
  // (undocumented)
  getProfile(options?: AuthRequestOptions): Promise<ProfileInfo | undefined>;
  // (undocumented)
  sessionState$(): Observable<SessionState>;
  // (undocumented)
  signIn(): Promise<void>;
  // (undocumented)
  signOut(): Promise<void>;
}

// @public
export type OAuth2CreateOptions = OAuthApiCreateOptions & {
  scopeTransform?: (scopes: string[]) => string[];
};

// @public
export type OAuth2Session = {
  providerInfo: {
    idToken: string;
    accessToken: string;
    scopes: Set<string>;
    expiresAt: Date;
  };
  profile: ProfileInfo;
  backstageIdentity: BackstageIdentityResponse;
};

// @public
export type OAuthApiCreateOptions = AuthApiCreateOptions & {
  oauthRequestApi: OAuthRequestApi;
  defaultScopes?: string[];
};

// @public
export class OAuthRequestManager implements OAuthRequestApi {
  // (undocumented)
  authRequest$(): Observable<PendingOAuthRequest[]>;
  // (undocumented)
  createAuthRequester<T>(options: OAuthRequesterOptions<T>): OAuthRequester<T>;
}

// @public
export class OktaAuth {
  // (undocumented)
  static create(options: OAuthApiCreateOptions): typeof oktaAuthApiRef.T;
}

// @public
export class OneLoginAuth {
  // (undocumented)
  static create(
    options: OneLoginAuthCreateOptions,
  ): typeof oneloginAuthApiRef.T;
}

// @public
export type OneLoginAuthCreateOptions = {
  discoveryApi: DiscoveryApi;
  oauthRequestApi: OAuthRequestApi;
  environment?: string;
  provider?: AuthProviderInfo;
};

// @public
export class SamlAuth
  implements ProfileInfoApi, BackstageIdentityApi, SessionApi
{
  // (undocumented)
  static create(options: AuthApiCreateOptions): SamlAuth;
  // (undocumented)
  getBackstageIdentity(
    options?: AuthRequestOptions,
  ): Promise<BackstageIdentityResponse | undefined>;
  // (undocumented)
  getProfile(options?: AuthRequestOptions): Promise<ProfileInfo | undefined>;
  // (undocumented)
  sessionState$(): Observable<SessionState>;
  // (undocumented)
  signIn(): Promise<void>;
  // (undocumented)
  signOut(): Promise<void>;
}

// @public
export type SignInPageProps = {
  onSignInSuccess(identityApi: IdentityApi): void;
};

// @public
export class UnhandledErrorForwarder {
  static forward(errorApi: ErrorApi, errorContext: ErrorApiErrorContext): void;
}

// @public
export class UrlPatternDiscovery implements DiscoveryApi {
  static compile(pattern: string): UrlPatternDiscovery;
  // (undocumented)
  getBaseUrl(pluginId: string): Promise<string>;
}

// @public
export class WebStorage implements StorageApi {
  constructor(namespace: string, errorApi: ErrorApi);
  // (undocumented)
  static create(options: {
    errorApi: ErrorApi;
    namespace?: string;
  }): WebStorage;
  // (undocumented)
  forBucket(name: string): WebStorage;
  // (undocumented)
  get<T>(key: string): T | undefined;
  // (undocumented)
  observe$<T>(key: string): Observable<StorageValueSnapshot<T>>;
  // (undocumented)
  remove(key: string): Promise<void>;
  // (undocumented)
  set<T>(key: string, data: T): Promise<void>;
  // (undocumented)
  snapshot<T extends JsonValue>(key: string): StorageValueSnapshot<T>;
}
```
